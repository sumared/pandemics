---
title: "Analysis of Some Aspects of Gameplay of *Pandemic*"
author: |
        | Marcelo Ventura Freire
        | Tiago Tomazi
date: "`r format(Sys.time(), '%Y-%b-%d')`"
output: 
  html_document:
    toc: true
    toc_depth: 2
    number_sections: true
    smart: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidygraph)
library(magrittr)
library(ggrepel)
library(ggraph)
```

# Introducion 

## The Game *Pandemic*

## Basic Gameplay, its 7 variants, and its 5 expansions

### How to make a competition out of a cooperative game

### *Pandemic Survival*

## Concepts

### Cooperative Game

### Cities and the Map

### Deseases and Cures

### Infections, Epidemies, and Outbreaks

### Movement and Spacial Actions

### Specialist Characters

## Game Dynamics

### Desease Spread in the Map

### Infection Deck and Players' Deck

### Turn Structure

### Game Progress Indicators

# Graph Theory's Aspects

## Nodes and Edges

```{r read.graph}
nodes <- read.csv("nodes.csv", strip.white = T)
print(nodes)
centers <- nodes$name[c(1)]
adjacency <- 
  read.csv("adjacency.csv", header = F) %>% 
  as.matrix() %>%
  set_colnames(nodes$name) %>%
  set_rownames(nodes$name)
world <- as_tbl_graph(adjacency, nodes, directed = F)
```

```{r plot.graph}
# ggraph(world, layout = "nicely") +
#   # geom_node_label(aes(label = name, color = color)) +
#   geom_node_label(aes(label = name)) + 
#   # geom_text_repel() +
#   geom_edge_link() +
#   theme_void()
ggraph(world, layout = "nicely") +
  geom_node_label(aes(label = name)) + 
  geom_edge_link() +
  ggtitle("nicely") +
  theme_void()
ggraph(world, layout = "mds") +
  geom_node_label(aes(label = name)) + 
  geom_edge_link() +
  ggtitle("mds") +
  theme_void()
ggraph(world, layout = "sphere") +
  geom_node_label(aes(label = name)) + 
  geom_edge_link() +
  ggtitle("sphere") +
  theme_void()
ggraph(world, layout = "kk") +
  geom_node_label(aes(label = name)) + 
  geom_edge_link() +
  ggtitle("kk") +
  theme_void()
ggraph(world, layout = "drl") +
  geom_node_label(aes(label = name)) +
  geom_edge_link() +
  ggtitle("drl") +
  theme_void()
ggraph(world, layout = "lgl") +
  geom_node_label(aes(label = name)) +
  geom_edge_link() +
  ggtitle("lgl") +
  theme_void()
ggraph(world, layout = "linear", circular = T) +
  geom_node_label(aes(label = name)) + 
  geom_edge_link() +
  ggtitle("linear") +
  theme_void()
```

## Adjacency Matrix to the cities

```{r adjacency}
print(adjacency)
```

## Distance Matrix between the cities

```{r distance}
A <- diag(diag(adjacency)^0)
distances <- adjacencies <- list()
k <- 0
while (any(A==0)) {
  k <- k + 1
  A <- A %*% adjacency 
  adjacencies[[k]] <- A
  distances[[k]] <- k / (A > 0)
}
distance <- 
  do.call(pmin, distances) %>%
  set_colnames(nodes$name) %>%
  set_rownames(nodes$name)
print(distance)
```

# Probability and Decision Theories' Aspects

## Basic Gameplay *versus* Championship

## Basic Gameplay: Restricted Shuffling 

## Championship: Partial Deck Building and Restricted Shuffling 



